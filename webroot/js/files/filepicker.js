require(["jquery"],function(e){function t(t,n,r){e("#file-modal").modal("hide"),require([r],function(e){e(t,n)})}e(".upload").click(function(){e(".upload").button("loading");var t=e(this).attr("data-upload-callback"),n=e(this).attr("data-multiple"),r=e(this).attr("data-dir"),i="";typeof r!="undefined"&&(i="/dir:"+r),e.get("/gintonic_c_m_s/files/add/"+t+i,function(t){e("#modal-loader").html(t),e("#file-modal").modal("show"),e(".upload").button("reset"),n==="true"&&e("#FileTmpFile").prop("multiple","multiple")})}),window.uploadComplete=t,e(".editTitle").on("click",function(){e("#Fileid").val(e(this).data("pk")),e("#FileTitle").val(e(this).data("value")),e(".modal-footer").children('input[type="submit"]').show(),e(".modal-footer").children("button.btn-primary").hide(),e("#editTitleModal").modal()}),e(".getFileLink").on("click",function(){e("#FileLink").val(e(this).data("value")),e("#getFileLinkModal").modal()}),e("#FileUpdateForm").on("submit",function(t){e(".modal-footer").children('input[type="submit"]').hide(),e(".modal-footer").children("button").show(),t.preventDefault(),e.ajax({url:e(this).prop("action"),type:"POST",dataType:"json",data:e(this).serialize(),success:function(t){t.status=="success"&&(e("#editTitleModal").modal("hide"),e("#title_"+t.id).html(t.value),e('[data-pk="'+t.id+'"').data("value",t.value))}})})});